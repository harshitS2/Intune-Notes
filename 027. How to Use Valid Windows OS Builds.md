
---

# Lecture Notes: Enforcing Windows OS Build Version Using Device Compliance Policies in Microsoft Intune

---

## Overview

* **Topic:** OS Build-Based Device Compliance Policy
* **Platform:** Microsoft Intune (Microsoft Endpoint Manager)
* **Target OS:** Windows 10 and Later
* **Purpose:** Ensure devices run a trusted and approved Windows build before accessing corporate resources

---

## Why Use OS Build Version for Compliance

Minimum and maximum OS version rules ensure devices stay within a **trusted patch level** defined by the organization.

### Benefits

* Enforces security updates and patch compliance
* Prevents outdated systems from accessing corporate data
* Strengthens Zero Trust posture
* Improves compliance reporting accuracy

---

## Key Concept: OS Version vs OS Build

| Term       | Description                               |
| ---------- | ----------------------------------------- |
| OS Version | Major release (e.g., Windows 10 21H1)     |
| OS Build   | Exact patch level (e.g., 10.0.19043.2311) |

> Using **OS Build** provides stronger security enforcement because it validates patch level, not just Windows edition.

---

## Policy Goal

* Enforce a **minimum Windows OS build version**
* Automatically mark devices as **non-compliant** if outdated
* Send **email notifications** to users
* Require OS updates before allowing access to company resources

---

## Licensing Requirements

* **Microsoft Intune License**
* **Azure AD Premium P1 or P2**
* Conditional Access recommended for enforcement

---

## Step 1: Identify Target Device and OS Build

### Navigation Path

1. Open **Microsoft Endpoint Manager Admin Center**
   URL:

   ```
   https://endpoint.microsoft.com
   ```
2. Go to **Groups**
3. Select device group
   Example:

   > `Test_Win10_BYOD`
4. Click **Members**
5. Select the device

### Record OS Build

Example:

```
10.0.19043.2251
```

> This value will determine your **minimum required build** in the compliance policy.

---

## Step 2: Create Compliance Policy

### Navigation Path

1. Go to **Devices**
2. Select **Compliance Policies**
3. Click **Create Policy**
4. Platform:

   > Windows 10 and later
5. Click **Create**

---

## Step 3: Basics Configuration

### Example Values

| Field       | Value                             |
| ----------- | --------------------------------- |
| Name        | Windows 10 21H1 Compliance Policy |
| Description | Enforces minimum OS build version |

Click **Next**

---

## Step 4: Configure Device Properties

### Path

**Compliance Settings → Device Properties**

### Minimum OS Version Format

```
10.0.19043.2311
```

### Example Configuration

| Setting            | Value           |
| ------------------ | --------------- |
| Minimum OS Version | 10.0.19043.2311 |

### Behavior

* If a device build is **lower than this value** → Marked **Non-Compliant**
* If equal or higher → Marked **Compliant**

Click **Next**

---

## Step 5: Configure Actions for Non-Compliance

### Default Action

* **Mark device non-compliant — Immediate**

---

### Add Email Notification

1. Click **Add Action**
2. Select:

   > Send email to end user
3. Schedule:

   > 0 Days (Immediate)
4. Select **Notification Template**
   Example:

   > Test Compliance Email

---

### Recommended Enterprise Flow

| Action             | Schedule           |
| ------------------ | ------------------ |
| Mark Non-Compliant | Immediately        |
| Email User         | 0 Days             |
| Retire Device      | 60 Days (Optional) |

Click **Next**

---

## Step 6: Assign Policy

1. Click **Add Groups**
2. Select:

   > Test_Win10_BYOD
3. Confirm device count
4. Click **Next**

---

## Step 7: Review and Create

1. Review configuration
2. Click **Create**

### Confirmation

> Compliance policy created successfully

---

## Step 8: Monitor Policy Evaluation

### Path

1. Go to **Compliance Policies**
2. Select your policy
3. Click **Monitor → Device Status**
4. Refresh

### Initial State

> Not Evaluated

---

## Step 9: Force Device Sync

### From Admin Portal

**Devices → Select Device → Overview → Sync**

OR

### From Windows Device

1. Open **Company Portal**
2. Go to **Settings**
3. Click **Sync**

---

## Step 10: Verify Non-Compliance

### Expected Status

If OS build is lower than required:

> **Non-Compliant**

### Detailed View

**Device → Monitor → Device Compliance → Policy Name**

Example:

| Setting            | Status          |
| ------------------ | --------------- |
| Minimum OS Version | ❌ Not Compliant |

---

## Step 11: User Experience (Company Portal)

### User Message

> This device does not meet company compliance and security policies.

### Resolution Option

Click:

> Resolve

This opens **Windows Update** for remediation.

---

## Step 12: Remediation (Update OS)

### On Windows Device

1. Open **Settings**
2. Go to **Windows Update**
3. Click **Download and Install**
4. Restart device

---

## Step 13: Verify Updated OS Build

### Command Prompt

Run:

```
winver
```

OR

```
ver
```

### Example Updated Build

```
10.0.19043.2311
```

---

## Step 14: Verify Compliance Restored

### Portal Path

**Devices → Device → Monitor → Device Compliance**

### Expected Status

> Compliant

---

## Integration with Conditional Access

> Compliance policies alone only **report status**.
> Enforcement happens when integrated with **Conditional Access**.

### Recommended Setup

Create a Conditional Access policy:

* Condition:

  * Require device to be marked as compliant
* Result:

  * Block access to Microsoft 365, VPN, and SaaS apps if non-compliant

---

## Monitoring Options

### Policy-Based View

**Compliance Policies → Policy → Device Status**

### Device-Based View

**Devices → All Devices → Device → Monitor → Device Compliance**

---

## Best Practices

* Always enforce **OS Build**, not just OS Version
* Combine with **Conditional Access**
* Use **pilot groups** before full rollout
* Set realistic minimum builds aligned with Patch Tuesday cycles
* Notify users before blocking access

---

## Common Mistakes

* Using only OS version instead of OS build
* Not assigning the policy to a group
* Forgetting to configure notification templates
* Not syncing devices during testing

---

## Security Impact

This configuration ensures:

* Devices remain fully patched
* Outdated systems are blocked from access
* Users are guided to self-remediate
* Compliance is continuously enforced

---

## Summary

In this module, you:

✔ Identified OS build version from target devices
✔ Created a Windows compliance policy
✔ Enforced minimum OS build requirement
✔ Configured user notifications
✔ Tested non-compliance behavior
✔ Verified remediation and compliance recovery

---

## Next Module

> **Enforcing Compliance with Azure AD Conditional Access**

You will learn how to:

* Block Microsoft 365 for non-compliant devices
* Secure VPN and SaaS access
* Build Zero Trust access workflows

---

## Key Takeaway

> **Patch level defines trust. Compliance validates it. Conditional Access enforces it.**

---

**End of Lecture Notes**
